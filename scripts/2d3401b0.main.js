function fetchTaskCollection(a){a.fetch({success:function(a){a.each(function(a){addToTaskList(a),complete(a),disableClick()})},error:function(a,b){console.log(b.description)}})}function addTask(){$(".add").click(function(a){if(a.preventDefault(),validateForm())var b=new TaskClass;var c=$("#form-input").val();b.set("task",c),b.set("isComplete",!1),b.save(null,{success:function(a){console.log("it worked"),addToTaskList(a),$("#form-input").val(""),disableClick()},error:function(a,b){console.log(b.description)}})})}function completeTask(){$(".completed").click(function(){var a=$("input:checked").val(),b=new Parse.Query(TaskClass);b.equalTo("objectId",a),b.find({success:function(a){a[0].set("isComplete",!0),a[0].save(),complete(a[0])},error:function(a,b){console.log(b.description)}})})}function deleteTask(){$(".delete").click(function(){var a=$("input:checked").val(),b=new Parse.Query(TaskClass);b.equalTo("objectId",a),b.find({success:function(a){a[0].destroy(),$("input:checked").parent().remove()},error:function(a,b){console.log(b.description)}})})}function editTask(){$(".save-edit").click(function(){if(validateModalForm())var a=$("input:checked").val();var b=new Parse.Query(TaskClass),c=$("#edit-text").val();b.equalTo("objectId",a),b.find({success:function(a){$("#edit-text").val(""),a[0].set("task",c),a[0].save(),$("input:checked").parent().remove();var b=a[0].id,d=$('<div class="checkbox"><input id="check-it" value='+b+' type="checkbox">'+"<li>"+a[0].get("task")+"</li>");$("#task-list").append(d)},error:function(a,b){console.log(b.description)}})})}function validateForm(){var a=!0;return $("#form-input").removeClass("highlight"),$(".message").html("<p> </p>"),$("#form-input").each(function(){""==$(this).val()&&(a=!1,$(this).addClass("highlight"),$(".message").html("<p>*Please enter a task.</p>"))}),a}function validateModalForm(){var a=!0;return $("#edit-text").removeClass("highlight"),$(".modal-message").html("<p> </p>"),$("#edit-text").each(function(){""==$(this).val()&&(a=!1,$(this).addClass("highlight"),$(".modal-message").html("<p>*Please enter a task.</p>"))}),a}function addToTaskList(a){var b=a.id;if(a.get("isComplete")===!1){var c=$('<div class="checkbox"><input id="check-it" value='+b+' type="checkbox">'+"<li>"+a.get("task")+"</li>");$("#task-list").append(c)}}function complete(a){var b=$('<li><span class="glyphicon glyphicon-thumbs-up"></span>'+a.get("task")+"</li>");console.log(a),a.get("isComplete")===!0&&($(".complete").show(),$("#completed-list").append(b),$("input:checked").parent().remove())}function disableClick(){var a=$("input#check-it");a.click(function(){var b=this;a.each(function(){this!==b&&(this.checked="")})})}Parse.initialize("byba0msI8fEyxF3Uu8mAdaWoO6yCicnptkuwXrGL","IkSFu4UW9LFrYzNIwBRDZmVvkmJJ3F4wp2kvf1Ma");var TaskClass=Parse.Object.extend("TaskClass"),TaskClassCollection=Parse.Collection.extend({model:TaskClass}),tasks=new TaskClassCollection;$("document").ready(function(){$(".complete").hide(),fetchTaskCollection(tasks),addTask(),$(".edit").click(function(){0!==$("#check-it:checked").length&&$("#myModal").modal()}),completeTask(),deleteTask(),editTask()});